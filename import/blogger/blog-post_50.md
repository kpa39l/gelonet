Title: Теперь майнить криптовалюту можно прямо через браузеры
Date: 2017-09-26 01:57
Author: Краз
Tags: Криптовалюта
Slug: blog-post_50
Status: published

::: {dir="ltr" style="text-align: left;" trbidi="on"}
::: {style="background-color: white; border: 0px none; box-sizing: border-box; color: #222222; font-family: HelveticaNeue, "Helvetica Neue", Helvetica, Arial, "Lucida Grande", sans-serif; font-size: 18px; line-height: 26px; list-style: none; margin-bottom: 26px; outline: none; padding: 0px; zoom: 1;"}
В минувшую субботу, 16 сентября 2017 года, пользователи одного из крупнейших торрент-трекеров сети, «непотопляемого» The Pirate Bay, [обратили внимание](https://www.reddit.com/r/thepiratebay/comments/70aip7/100_cpu_on_all_8_threads_while_visiting_tpb/?sort=new), что при посещении некоторых страниц сайта нагрузка на процессор резко возрастает. Как выяснилось, причиной тому стал криптовалютный майнер, который встроили прямо в код сайта при помощи JavaScript.
:::

::: {style="background-color: white; border: 0px none; box-sizing: border-box; color: #222222; font-family: HelveticaNeue, "Helvetica Neue", Helvetica, Arial, "Lucida Grande", sans-serif; font-size: 18px; line-height: 26px; list-style: none; margin-bottom: 26px; outline: none; padding: 0px; zoom: 1;"}
[![](https://xakep.ru/wp-content/uploads/2017/09/137578/foot.png){.aligncenter .size-full .wp-image-137579 width="647" height="131" sizes="(max-width: 647px) 100vw, 647px" srcset="https://xakep.ru/wp-content/uploads/2017/09/137578/foot.png 647w, https://xakep.ru/wp-content/uploads/2017/09/137578/foot-130x26.png 130w, https://xakep.ru/wp-content/uploads/2017/09/137578/foot-400x81.png 400w"}](https://xakep.ru/wp-content/uploads/2017/09/137578/foot.png)
:::

::: {.bdaia-p-inline-e3-desktop style="background-color: white; border: 0px none; box-sizing: border-box; color: #222222; font-family: HelveticaNeue, "Helvetica Neue", Helvetica, Arial, "Lucida Grande", sans-serif; font-size: 18px; list-style: none; margin: 0px auto 26px; outline: none; padding: 0px; text-align: center; zoom: 1;"}
::: {.bdaia-e3-container style="border: 0px none; box-sizing: border-box; line-height: 0; list-style: none; margin: 0px; outline: none; padding: 0px; position: relative; z-index: 0; zoom: 1;"}
:::
:::

::: {style="background-color: white; border: 0px none; box-sizing: border-box; color: #222222; font-family: HelveticaNeue, "Helvetica Neue", Helvetica, Arial, "Lucida Grande", sans-serif; font-size: 18px; line-height: 26px; list-style: none; margin-bottom: 26px; outline: none; padding: 0px; zoom: 1;"}
При ближайшем рассмотрении оказалось, что майнер предоставлен сервисом [Coinhive](https://coin-hive.com/), который предлагает владельцам сайтов конвертировать мощности CPU посетителей в криптовалюту Monero. При этом майнер работал не на всех страницах ресурса. Журналисты [Torrent Freak](https://torrentfreak.com/the-pirate-bay-website-runs-a-cryptocurrency-miner-170916/) сообщают, что функцию активировали для страницы с результатами поиска и на страницах категорий, на главной странице сайта, а также страницах отдельных раздач майнер не работал.
:::

::: {style="background-color: white; border: 0px none; box-sizing: border-box; color: #222222; font-family: HelveticaNeue, "Helvetica Neue", Helvetica, Arial, "Lucida Grande", sans-serif; font-size: 18px; line-height: 26px; list-style: none; margin-bottom: 26px; outline: none; padding: 0px; zoom: 1;"}
Представители ресурса подтвердили Torrent Freak, что трекер не взломали. Администрация проводила кратковременные испытания (майнер проработал около 24 часов) новой модели монетизации.  По словам операторов The Pirate Bay, в будущем встроенный манер, вероятно, сможет полностью заменить собой обычную рекламу.
:::

::: {style="background-color: white; border: 0px none; box-sizing: border-box; color: #222222; font-family: HelveticaNeue, "Helvetica Neue", Helvetica, Arial, "Lucida Grande", sans-serif; font-size: 18px; line-height: 26px; list-style: none; margin-bottom: 26px; outline: none; padding: 0px; zoom: 1;"}
Блокировать такой майнер можно отключением Javascript, установкой соответственных расширений для браузера (к примеру, NoScript и ScriptBlock), а также через блокировщик рекламы, добавив URL в черный список (не самый надежный вариант, ведь адрес может меняться).
:::

::: {style="background-color: white; border: 0px none; box-sizing: border-box; color: #222222; font-family: HelveticaNeue, "Helvetica Neue", Helvetica, Arial, "Lucida Grande", sans-serif; font-size: 18px; line-height: 26px; list-style: none; margin-bottom: 26px; outline: none; padding: 0px; zoom: 1;"}
Проделать эти операции будет совсем не лишним, так как подобный способ монетизации за последнее время успел опробовать не только The Pirate Bay. В конце прошлой недели специалисты компании [ESET зафиксировали](https://www.welivesecurity.com/2017/09/14/cryptocurrency-web-mining-union-profit/) ряд очень похожих кампаний: на страницах российских и украинских сайтов появилась вредоносная реклама, в тайне от пользователей использующая их браузеры для майнинга. На графиках ниже можно увидеть распределение кампаний по странам и конкретным сайтам.
:::

::: {#gallery-3 .gallery .galleryid-137578 .gallery-columns-2 .gallery-size-medium style="background-color: white; border: 0px none; box-sizing: border-box; color: #222222; font-family: HelveticaNeue, "Helvetica Neue", Helvetica, Arial, "Lucida Grande", sans-serif; font-size: 18px; line-height: 0; list-style: none; margin: 0px 0px 24px; outline: none; overflow: hidden; padding: 0px; text-align: center; zoom: 1;"}
![](https://xakep.ru/wp-content/uploads/2017/09/137578/monero-eset-fig-1-1024x657-400x257.jpg){.attachment-medium .size-medium width="400" height="257" sizes="(max-width: 400px) 100vw, 400px" srcset="https://xakep.ru/wp-content/uploads/2017/09/137578/monero-eset-fig-1-1024x657-400x257.jpg 400w, https://xakep.ru/wp-content/uploads/2017/09/137578/monero-eset-fig-1-1024x657-130x83.jpg 130w, https://xakep.ru/wp-content/uploads/2017/09/137578/monero-eset-fig-1-1024x657-768x493.jpg 768w, https://xakep.ru/wp-content/uploads/2017/09/137578/monero-eset-fig-1-1024x657-850x545.jpg 850w, https://xakep.ru/wp-content/uploads/2017/09/137578/monero-eset-fig-1-1024x657.jpg 1024w"}

![](https://xakep.ru/wp-content/uploads/2017/09/137578/monero-eset-fig-4-400x256.jpg){.attachment-medium .size-medium width="400" height="256" sizes="(max-width: 400px) 100vw, 400px" srcset="https://xakep.ru/wp-content/uploads/2017/09/137578/monero-eset-fig-4-400x256.jpg 400w, https://xakep.ru/wp-content/uploads/2017/09/137578/monero-eset-fig-4-130x83.jpg 130w, https://xakep.ru/wp-content/uploads/2017/09/137578/monero-eset-fig-4-768x492.jpg 768w, https://xakep.ru/wp-content/uploads/2017/09/137578/monero-eset-fig-4-1040x667.jpg 1040w, https://xakep.ru/wp-content/uploads/2017/09/137578/monero-eset-fig-4-850x545.jpg 850w, https://xakep.ru/wp-content/uploads/2017/09/137578/monero-eset-fig-4.jpg 1346w"}
:::

::: {style="background-color: white; border: 0px none; box-sizing: border-box; color: #222222; font-family: HelveticaNeue, "Helvetica Neue", Helvetica, Arial, "Lucida Grande", sans-serif; font-size: 18px; line-height: 26px; list-style: none; margin-bottom: 26px; outline: none; padding: 0px; zoom: 1;"}
В этом случае злоумышленники тоже используют JavaScript и модифицированную версию майнера [MineCrunch](https://cryptocurrencytalk.com/topic/24618-minecrunch-web-js-miner-with-integration-feature/), также известного как Web Miner. Этот скрипт был создан еще в 2014 году, специально для майнинга криптовалют через браузеры.
:::

::: {style="background-color: white; border: 0px none; box-sizing: border-box; color: #222222; font-family: HelveticaNeue, "Helvetica Neue", Helvetica, Arial, "Lucida Grande", sans-serif; font-size: 18px; line-height: 26px; list-style: none; margin-bottom: 26px; outline: none; padding: 0px; zoom: 1;"}
Так как работа майнера значительно влияет на производительность устройства, и не заметить происходящее сложно, майнинговую рекламу стараются внедрять на сайты с потоковым видео или браузерными играми. Такие ресурсы сами по себе заметно нагружают систему и потребляют ресурсы, так что пользователь может не заметить работающий на фоне манер. Более того, на таких сайтах пользователи проводят много времени, что сулит операторам адвари бОльшие прибыли.
:::

![Как работает эта схема](https://xakep.ru/wp-content/uploads/2017/09/137578/monero-eset-fig-3-1040x667.jpg){.wp-image-137583 .size-large width="850" height="545" sizes="(max-width: 850px) 100vw, 850px" srcset="https://xakep.ru/wp-content/uploads/2017/09/137578/monero-eset-fig-3-1040x667.jpg 1040w, https://xakep.ru/wp-content/uploads/2017/09/137578/monero-eset-fig-3-130x83.jpg 130w, https://xakep.ru/wp-content/uploads/2017/09/137578/monero-eset-fig-3-400x257.jpg 400w, https://xakep.ru/wp-content/uploads/2017/09/137578/monero-eset-fig-3-768x492.jpg 768w, https://xakep.ru/wp-content/uploads/2017/09/137578/monero-eset-fig-3-850x545.jpg 850w, https://xakep.ru/wp-content/uploads/2017/09/137578/monero-eset-fig-3.jpg 1600w"}

::: {style="background-color: white; border: 0px none; box-sizing: border-box; color: #222222; font-family: HelveticaNeue, "Helvetica Neue", Helvetica, Arial, "Lucida Grande", sans-serif; font-size: 18px; line-height: 26px; list-style: none; margin-bottom: 26px; outline: none; padding: 0px; zoom: 1;"}
Аналитики ESET пишут, что им удалось обнаружить скрипты для майнинга Monero, Feathercoin и Litecoin, но Monero в настоящий момент является главным приоритетом для злоумышленников. Так, конфигурация Litecoin-майнера пуста, а в случае Feathercoin все настройки остались дефолтными, даже адрес в точности повторяет демонстрационную [страницу с GitHub](https://kukunin.github.io/webminer/).
:::

::: {style="background-color: white; border: 0px none; box-sizing: border-box; color: #222222; font-family: HelveticaNeue, "Helvetica Neue", Helvetica, Arial, "Lucida Grande", sans-serif; font-size: 18px; line-height: 26px; list-style: none; margin-bottom: 26px; outline: none; padding: 0px; zoom: 1;"}
Также исследователи заметили похожую кампанию, но направленную на майнинг Zcash, которой, судя по всему, управляет другая хакерская группа. В этом случае для «доставки» майнера не используется вредоносная реклама, но JavaScript-код внедряется непосредственно на сами сайты (точно так же, как в случае The Pirate Bay).
:::

::: {style="background-color: white; border: 0px none; box-sizing: border-box; color: #222222; font-family: HelveticaNeue, "Helvetica Neue", Helvetica, Arial, "Lucida Grande", sans-serif; font-size: 18px; line-height: 26px; list-style: none; outline: none; padding: 0px; zoom: 1;"}
Стоит сказать, что сами по себе майнеры для браузеров – не такое уж новое явление. К примеру, предлагающий такие услуги сервис [Bitp.it](https://bitcointalk.org/index.php?topic=9042.0) появился еще в 2011 году, но в итоге был закрыт. Также в 2015 году генеральная прокуратура штата Нью-Джерси закрыла аналогичный ресурс [Tidbit](http://www.betaboston.com/news/2015/05/27/mit-student-settles-legal-fight-with-nj-over-bitcoin-mining-experiment/), предлагавший владельцам сайтов майнер, который будет эксплуатировать компьютеры посетителей. Тогда власти сочли такую деятельность нелегальной, сродни хакингу, ведь Tidbit не уведомлял пользователей о происходящем и не спрашивал их разрешения.
:::

::: {style="background-color: white; border: 0px none; box-sizing: border-box; color: #222222; font-family: HelveticaNeue, "Helvetica Neue", Helvetica, Arial, "Lucida Grande", sans-serif; font-size: 18px; line-height: 26px; list-style: none; outline: none; padding: 0px; zoom: 1;"}
  
:::

::: {style="background-color: white; border: 0px none; box-sizing: border-box; color: #222222; font-family: HelveticaNeue, "Helvetica Neue", Helvetica, Arial, "Lucida Grande", sans-serif; font-size: 18px; line-height: 26px; list-style: none; outline: none; padding: 0px; zoom: 1;"}
[Источник](https://xakep.ru/2017/09/18/browser-mining/)
:::
:::
